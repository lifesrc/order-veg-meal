# order-veg-meal

## 华为素餐群订素餐程序

- 初衷：让更多人更方便选择素食 ☘🍀🌱🌾🌽🥬🍎 希望为推广素食略尽绵薄之力 ✨
- 愿景：借助互联网的力量推广素食。项目属于公益性质，欢迎有兴趣的小伙伴加入 💫

## 本地程序入口

使用背景：店方把接龙发到群里，群友们接龙订餐。接龙到 10 点多，店家把接龙数据拷贝到小程序运行，按各园区统计出送餐数据和既定送餐路线，发布歌曲统计送餐的消息和送餐路线消息。结算时，店家发布二维码到群里，大家扫码支付；当支付完成，店家从微信支付入口邮件下载当日支付账单文件。输入当日接龙和选择支付账单文件，点击「核对账单」功能即可自动匹配已支付用户，同时也选出来未支付用户，然后店家在群里提醒未支付用户付款。

一、试用步骤：

1. 谷歌浏览器打开 el-index.html（这是 vue+elementUI 版本，index.html 是原生版本）。打开页面后，点击各区统计或核对账单。
2. 左侧 textarea 输入框自动填充了示例接龙，点击左下角按钮「各区统计」，右侧即可查看统计结果，包括#接龙分区、#各区金额、#送餐消息。
3. 左侧 textarea 输入框自动填充了示例接龙，然后选择账单文件（账单文件：此项目中的文件“微信支付账单-20210602.csv”），点击左下角按钮「核对账单」，右侧即显式接龙用户和付款用户自动匹配的结果，包括#用户应付和#已付账单（表格），如果有接龙名字和付款名字不一致，店家还可以点击该表格的 checkbox 手动匹配左侧用户，当自动和手动匹配完成，程序即提示出未支付用户。

二、技术难度：

1. 点击【各区统计】时，用户接龙数据分析，涉及大量的正则匹配。
2. 点击【核对账单】时，自动匹配和手动匹配功能的设计和实现，匹配功能涉及到数据集的状态管理和展示。之前 index.html 还做过【每日结算】的功能，用户反馈不好用，才最终改成了自动匹配和手动匹配功能。

## 小程序入口

打开微信搜索小程序，请输入 liuzhantest 搜索小程序名称。进入到该小程序后，找到此项目中的文件“jielong6.2.txt”，打开文件并全选复制中内容（示例接龙数据），粘贴到小程序的输入框，点击「各区统计」或「送餐消息」即可展示相关结果，「核对账单」功能暂未移植到小程序。

## 网上程序入口

- 功能介绍：为素餐群店方提供了以下功能：各区统计（接龙分区、各区份数、各区金额、送餐路线），单区统计，核对账单（接龙、账单手动或自动匹配）。
- 功能预览: https://codepen.io/messfairy/full/qBOKzqW；主功能试用步骤：
  拷贝微信接龙、点击各区统计，即可统计分区、各区金额、送餐路线；
  拷贝微信接龙、选取当日微信账单、点击核对账单，即可统计接龙费用和收款账单，支持“用户接龙-账单”自动匹配和手动匹配。
- 线上源码:
  github: https://codepen.io/messfairy/pen/qBOKzqW（提示登录则输入用户名/密码，公共账号: lifesrc/lifesrc123)
  CODING 开放平台：https://messfairy-01.coding.net/p/order-veg-meal/d/order-veg-meal/git
- 核心代码: el-index.html el-index.js chn2number style.css
